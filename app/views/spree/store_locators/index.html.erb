<div class="bh-sl-container">
  <div id="page-header">
    <h2><%= Spree.t(:our_stores) %></h2>
  </div>
  <div class="bh-sl-form-container">
    <form id="bh-sl-user-location" class="form-inline" method="post" action="#" role="form">
      <div class="form-input form-group">
        <label for="bh-sl-address"><%= Spree.t(:enter_address) %></label>
        <input class="form-control" type="text" id="bh-sl-address" name="bh-sl-address" />
      </div>

      <button id="bh-sl-submit" class="btn btn-primary" type="submit"><%= Spree.t("actions.continue") %></button>
    </form>
  </div>
  <div id="map-container" class="bh-sl-map-container">
    <div class="row">
      <div id="map-results-container" class="container">
        <div id="bh-sl-map" class="bh-sl-map col-md-9"></div>
        <div class="bh-sl-loc-list col-md-3">
          <ul class="list list-unstyled"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<% # jQuery Store Locator assets %>
<%= javascript_include_tag 'lib/handlebars-1.0.0' %>
<%= javascript_include_tag 'http://maps.google.com/maps/api/js?sensor=false' %>
<%= javascript_include_tag 'lib/jquery.storelocator' %>
<script>
  $(function() {
    return $('#map-container').storeLocator({
      dataType: 'json',
      dataLocation: '/store_locator.json',
      lengthUnit: 'km',
      callbackNotify: bootstrap_alert.warning,
      defaultLoc: true,
      defaultLat: -33.4384215,
      defaultLng: -70.652068,
      slideMap: false
    });
  });
</script>
